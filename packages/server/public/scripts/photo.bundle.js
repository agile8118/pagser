"use strict";
(self["webpackChunk_pagser_web"] = self["webpackChunk_pagser_web"] || []).push([["photo"],{

/***/ "./src/views/show-page/Photo.tsx":
/*!***************************************!*\
  !*** ./src/views/show-page/Photo.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "../../node_modules/react-redux/es/index.js");
/* harmony import */ var _pagser_reusable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pagser/reusable */ "../reusable/dist/index.js");
/* harmony import */ var _pagser_reusable__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_pagser_reusable__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _pageSlice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pageSlice */ "./src/views/show-page/pageSlice.ts");
/* harmony import */ var _userSlice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./userSlice */ "./src/views/show-page/userSlice.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};






var Photo = function () {
    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), uploadPhotoModalOpen = _a[0], setUploadPhotoModalOpen = _a[1];
    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), confirmModalOpen = _b[0], setConfirmModalOpen = _b[1];
    var pageId = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(_pageSlice__WEBPACK_IMPORTED_MODULE_4__.selectId);
    var status = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(_userSlice__WEBPACK_IMPORTED_MODULE_5__.selectStatus);
    var loading = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(_pageSlice__WEBPACK_IMPORTED_MODULE_4__.selectLoading);
    var photoUrl = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(_pageSlice__WEBPACK_IMPORTED_MODULE_4__.selectPhotoUrl);
    var dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch)();
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), { children: [!loading && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", __assign({ className: "page__photo" }, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: photoUrl, alt: "Page featured image", onLoad: function (e) {
                        e.target.classList.remove("display-none");
                    }, onError: function (e) {
                        e.target.classList.add("display-none");
                    } }) }))), !loading && status === "owner" && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_pagser_reusable__WEBPACK_IMPORTED_MODULE_3__.ConfirmModal, { header: "Remove your page photo", message: "Are you really sure that you want to delete your page photo?\n                  This cannot be undone.", open: confirmModalOpen, onConfirm: function () {
                            dispatch((0,_pageSlice__WEBPACK_IMPORTED_MODULE_4__.deletePhoto)());
                            setConfirmModalOpen(false);
                        }, onCancel: function () { return setConfirmModalOpen(false); } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", __assign({ className: "page__photo-actions" }, { children: photoUrl ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_pagser_reusable__WEBPACK_IMPORTED_MODULE_3__.Button, __assign({ color: "blue", size: "small", rounded: true, 
                                    // className="btn btn-blue btn-sm btn-round margin-bottom-2 margin-right-1"
                                    onClick: function () { return setUploadPhotoModalOpen(true); } }, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i", { className: "fa fa-upload button__icon-left" }), "Change Page Photo"] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_pagser_reusable__WEBPACK_IMPORTED_MODULE_3__.Button, __assign({ color: "red", size: "small", rounded: true, 
                                    // className="btn btn-sm btn-round btn-red margin-bottom-2"
                                    onClick: function () { return setConfirmModalOpen(true); } }, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i", { className: "fa fa-trash button__icon-left" }), "Remove Page Photo"] }))] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_pagser_reusable__WEBPACK_IMPORTED_MODULE_3__.Button, __assign({ color: "blue", size: "small", rounded: true, 
                            // className="btn btn-blue btn-sm btn-round margin-bottom-2"
                            onClick: function () { return setUploadPhotoModalOpen(true); } }, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i", { className: "fa fa-upload button__icon-left" }), "Upload a Page Photo"] }))) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_pagser_reusable__WEBPACK_IMPORTED_MODULE_3__.UploadPhoto, { open: uploadPhotoModalOpen, header: "Upload Page Photo", text: "Upload a beautiful photo to be set as a featured image of your page:", cropMsg: "Choose an area to be shown as for the page thumbnail, this won't\n                crop your image, this is just the area that will be shown as the\n                thumbnail.", inputLabelName: "Choose a photo", url: "/pages/".concat(pageId, "/photo"), minWidth: 1200, minHeight: 675, size: 8000000, aspectRatio: 48 / 27, success: function (image) { return dispatch((0,_pageSlice__WEBPACK_IMPORTED_MODULE_4__.setPhotoUrl)(image)); }, onClose: function () {
                            setUploadPhotoModalOpen(false);
                        } })] }))] }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Photo);


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGhvdG8uYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0Q7QUFDdkI7QUFDZTtBQUNjO0FBQzRCO0FBQ3REO0FBQzNDO0FBQ0EsYUFBYSwrQ0FBUTtBQUNyQixhQUFhLCtDQUFRO0FBQ3JCLGlCQUFpQix3REFBVyxDQUFDLGdEQUFRO0FBQ3JDLGlCQUFpQix3REFBVyxDQUFDLG9EQUFZO0FBQ3pDLGtCQUFrQix3REFBVyxDQUFDLHFEQUFhO0FBQzNDLG1CQUFtQix3REFBVyxDQUFDLHNEQUFjO0FBQzdDLG1CQUFtQix3REFBVztBQUM5QixZQUFZLHVEQUFLLENBQUMsdURBQWMsSUFBSSx3QkFBd0Isc0RBQUksbUJBQW1CLDBCQUEwQixJQUFJLFVBQVUsc0RBQUksVUFBVTtBQUN6STtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHVCQUF1QixHQUFHLHdDQUF3Qyx1REFBSyxDQUFDLHVEQUFjLElBQUksV0FBVyxzREFBSSxDQUFDLDBEQUFZLElBQUk7QUFDMUgscUNBQXFDLHVEQUFXO0FBQ2hEO0FBQ0EseUJBQXlCLDBCQUEwQixzQ0FBc0MsR0FBRyxzREFBSSxtQkFBbUIsa0NBQWtDLElBQUksc0JBQXNCLHVEQUFLLENBQUMsdURBQWMsSUFBSSxXQUFXLHVEQUFLLENBQUMsb0RBQU0sYUFBYTtBQUMzTztBQUNBLDJEQUEyRCx5Q0FBeUMsSUFBSSxXQUFXLHNEQUFJLFFBQVEsNkNBQTZDLHlCQUF5QixJQUFJLHVEQUFLLENBQUMsb0RBQU0sYUFBYTtBQUNsTztBQUNBLDJEQUEyRCxxQ0FBcUMsSUFBSSxXQUFXLHNEQUFJLFFBQVEsNENBQTRDLHlCQUF5QixLQUFLLE1BQU0sdURBQUssQ0FBQyxvREFBTSxhQUFhO0FBQ3BPO0FBQ0EsbURBQW1ELHlDQUF5QyxJQUFJLFdBQVcsc0RBQUksUUFBUSw2Q0FBNkMsMkJBQTJCLEtBQUssSUFBSSxzREFBSSxDQUFDLHlEQUFXLElBQUksOGVBQThlLGdCQUFnQix1REFBVyxXQUFXO0FBQ2h2QjtBQUNBLDJCQUEyQixJQUFJLEtBQUs7QUFDcEM7QUFDQSxpRUFBZSxLQUFLLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGFnc2VyL3dlYi8uL3NyYy92aWV3cy9zaG93LXBhZ2UvUGhvdG8udHN4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IENvbmZpcm1Nb2RhbCwgVXBsb2FkUGhvdG8sIEJ1dHRvbiB9IGZyb20gXCJAcGFnc2VyL3JldXNhYmxlXCI7XG5pbXBvcnQgeyBkZWxldGVQaG90bywgc2V0UGhvdG9VcmwsIHNlbGVjdFBob3RvVXJsLCBzZWxlY3RMb2FkaW5nLCBzZWxlY3RJZCwgfSBmcm9tIFwiLi9wYWdlU2xpY2VcIjtcbmltcG9ydCB7IHNlbGVjdFN0YXR1cyB9IGZyb20gXCIuL3VzZXJTbGljZVwiO1xudmFyIFBob3RvID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHVzZVN0YXRlKGZhbHNlKSwgdXBsb2FkUGhvdG9Nb2RhbE9wZW4gPSBfYVswXSwgc2V0VXBsb2FkUGhvdG9Nb2RhbE9wZW4gPSBfYVsxXTtcbiAgICB2YXIgX2IgPSB1c2VTdGF0ZShmYWxzZSksIGNvbmZpcm1Nb2RhbE9wZW4gPSBfYlswXSwgc2V0Q29uZmlybU1vZGFsT3BlbiA9IF9iWzFdO1xuICAgIHZhciBwYWdlSWQgPSB1c2VTZWxlY3RvcihzZWxlY3RJZCk7XG4gICAgdmFyIHN0YXR1cyA9IHVzZVNlbGVjdG9yKHNlbGVjdFN0YXR1cyk7XG4gICAgdmFyIGxvYWRpbmcgPSB1c2VTZWxlY3RvcihzZWxlY3RMb2FkaW5nKTtcbiAgICB2YXIgcGhvdG9VcmwgPSB1c2VTZWxlY3RvcihzZWxlY3RQaG90b1VybCk7XG4gICAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgICByZXR1cm4gKF9qc3hzKFJlYWN0LkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbIWxvYWRpbmcgJiYgKF9qc3goXCJkaXZcIiwgX19hc3NpZ24oeyBjbGFzc05hbWU6IFwicGFnZV9fcGhvdG9cIiB9LCB7IGNoaWxkcmVuOiBfanN4KFwiaW1nXCIsIHsgc3JjOiBwaG90b1VybCwgYWx0OiBcIlBhZ2UgZmVhdHVyZWQgaW1hZ2VcIiwgb25Mb2FkOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImRpc3BsYXktbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgb25FcnJvcjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJkaXNwbGF5LW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gfSkgfSkpKSwgIWxvYWRpbmcgJiYgc3RhdHVzID09PSBcIm93bmVyXCIgJiYgKF9qc3hzKFJlYWN0LkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbX2pzeChDb25maXJtTW9kYWwsIHsgaGVhZGVyOiBcIlJlbW92ZSB5b3VyIHBhZ2UgcGhvdG9cIiwgbWVzc2FnZTogXCJBcmUgeW91IHJlYWxseSBzdXJlIHRoYXQgeW91IHdhbnQgdG8gZGVsZXRlIHlvdXIgcGFnZSBwaG90bz9cXG4gICAgICAgICAgICAgICAgICBUaGlzIGNhbm5vdCBiZSB1bmRvbmUuXCIsIG9wZW46IGNvbmZpcm1Nb2RhbE9wZW4sIG9uQ29uZmlybTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKGRlbGV0ZVBob3RvKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbmZpcm1Nb2RhbE9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgb25DYW5jZWw6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNldENvbmZpcm1Nb2RhbE9wZW4oZmFsc2UpOyB9IH0pLCBfanN4KFwiZGl2XCIsIF9fYXNzaWduKHsgY2xhc3NOYW1lOiBcInBhZ2VfX3Bob3RvLWFjdGlvbnNcIiB9LCB7IGNoaWxkcmVuOiBwaG90b1VybCA/IChfanN4cyhSZWFjdC5GcmFnbWVudCwgeyBjaGlsZHJlbjogW19qc3hzKEJ1dHRvbiwgX19hc3NpZ24oeyBjb2xvcjogXCJibHVlXCIsIHNpemU6IFwic21hbGxcIiwgcm91bmRlZDogdHJ1ZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjbGFzc05hbWU9XCJidG4gYnRuLWJsdWUgYnRuLXNtIGJ0bi1yb3VuZCBtYXJnaW4tYm90dG9tLTIgbWFyZ2luLXJpZ2h0LTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2V0VXBsb2FkUGhvdG9Nb2RhbE9wZW4odHJ1ZSk7IH0gfSwgeyBjaGlsZHJlbjogW19qc3goXCJpXCIsIHsgY2xhc3NOYW1lOiBcImZhIGZhLXVwbG9hZCBidXR0b25fX2ljb24tbGVmdFwiIH0pLCBcIkNoYW5nZSBQYWdlIFBob3RvXCJdIH0pKSwgX2pzeHMoQnV0dG9uLCBfX2Fzc2lnbih7IGNvbG9yOiBcInJlZFwiLCBzaXplOiBcInNtYWxsXCIsIHJvdW5kZWQ6IHRydWUsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2xhc3NOYW1lPVwiYnRuIGJ0bi1zbSBidG4tcm91bmQgYnRuLXJlZCBtYXJnaW4tYm90dG9tLTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2V0Q29uZmlybU1vZGFsT3Blbih0cnVlKTsgfSB9LCB7IGNoaWxkcmVuOiBbX2pzeChcImlcIiwgeyBjbGFzc05hbWU6IFwiZmEgZmEtdHJhc2ggYnV0dG9uX19pY29uLWxlZnRcIiB9KSwgXCJSZW1vdmUgUGFnZSBQaG90b1wiXSB9KSldIH0pKSA6IChfanN4cyhCdXR0b24sIF9fYXNzaWduKHsgY29sb3I6IFwiYmx1ZVwiLCBzaXplOiBcInNtYWxsXCIsIHJvdW5kZWQ6IHRydWUsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsYXNzTmFtZT1cImJ0biBidG4tYmx1ZSBidG4tc20gYnRuLXJvdW5kIG1hcmdpbi1ib3R0b20tMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2V0VXBsb2FkUGhvdG9Nb2RhbE9wZW4odHJ1ZSk7IH0gfSwgeyBjaGlsZHJlbjogW19qc3goXCJpXCIsIHsgY2xhc3NOYW1lOiBcImZhIGZhLXVwbG9hZCBidXR0b25fX2ljb24tbGVmdFwiIH0pLCBcIlVwbG9hZCBhIFBhZ2UgUGhvdG9cIl0gfSkpKSB9KSksIF9qc3goVXBsb2FkUGhvdG8sIHsgb3BlbjogdXBsb2FkUGhvdG9Nb2RhbE9wZW4sIGhlYWRlcjogXCJVcGxvYWQgUGFnZSBQaG90b1wiLCB0ZXh0OiBcIlVwbG9hZCBhIGJlYXV0aWZ1bCBwaG90byB0byBiZSBzZXQgYXMgYSBmZWF0dXJlZCBpbWFnZSBvZiB5b3VyIHBhZ2U6XCIsIGNyb3BNc2c6IFwiQ2hvb3NlIGFuIGFyZWEgdG8gYmUgc2hvd24gYXMgZm9yIHRoZSBwYWdlIHRodW1ibmFpbCwgdGhpcyB3b24ndFxcbiAgICAgICAgICAgICAgICBjcm9wIHlvdXIgaW1hZ2UsIHRoaXMgaXMganVzdCB0aGUgYXJlYSB0aGF0IHdpbGwgYmUgc2hvd24gYXMgdGhlXFxuICAgICAgICAgICAgICAgIHRodW1ibmFpbC5cIiwgaW5wdXRMYWJlbE5hbWU6IFwiQ2hvb3NlIGEgcGhvdG9cIiwgdXJsOiBcIi9wYWdlcy9cIi5jb25jYXQocGFnZUlkLCBcIi9waG90b1wiKSwgbWluV2lkdGg6IDEyMDAsIG1pbkhlaWdodDogNjc1LCBzaXplOiA4MDAwMDAwLCBhc3BlY3RSYXRpbzogNDggLyAyNywgc3VjY2VzczogZnVuY3Rpb24gKGltYWdlKSB7IHJldHVybiBkaXNwYXRjaChzZXRQaG90b1VybChpbWFnZSkpOyB9LCBvbkNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VXBsb2FkUGhvdG9Nb2RhbE9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB9KV0gfSkpXSB9KSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgUGhvdG87XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=