"use strict";(self.webpackChunk_pagser_web=self.webpackChunk_pagser_web||[]).push([[107],{4120:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var o=n(2322),a=n(2784),i=n(5185),r=n(7289),l=n(8229),c=n(98),s=n(4604),u=function(){return u=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u.apply(this,arguments)},f=function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{c(o.next(e))}catch(e){i(e)}}function l(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((o=o.apply(e,t||[])).next())}))},d=function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!((a=(a=r.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const p=function(e){var t=(0,a.useState)(""),n=t[0],p=t[1],b=(0,a.useState)(!1),h=b[0],v=b[1],m=(0,a.useState)(!0),w=m[0],g=m[1],y=(0,a.useState)(!1),x=y[0],j=y[1],k=(0,i.v9)(c.pW),C=(0,i.v9)(c.cO).title,N=(0,i.v9)(s.mW),S=(0,i.v9)(s.sy),_=(0,i.v9)(c.NH),D=(0,i.I0)();(0,a.useEffect)((function(){e.type&&"public"===e.type&&D((0,c.ZD)()),setTimeout((function(){k&&q(k)}),15e3)}),[_]),(0,a.useEffect)((function(){n.toLowerCase().replace(/\s/g,"")===C.toLowerCase().replace(/\s/g,"")?g(!1):g(!0)}),[n]);var q=function(e){return f(void 0,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return[4,l.request.post("/views/".concat(e),null,{auth:!0})];case 1:return t.sent(),[2]}}))}))};if(_)return(0,o.jsx)("div",{});var O=S?"fa fa-bookmark":"fa fa-bookmark-o";return(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)(r.AddToCollection,{open:x,pageId:k,onClose:function(){j(!1)}}),(0,o.jsxs)("div",u({className:"page__header__actions"},{children:[(0,o.jsx)("button",u({className:"btn-i btn-i-blue btn-i-big",onClick:function(){"spectator"===N?(console.log("DSd"),(0,l.alert)("Please login to be able to add pages to collections.")):j(!0)}},{children:(0,o.jsx)("i",{className:"fa fa-th-large","aria-hidden":"true"})})),"owner"===N?(0,o.jsxs)(a.Fragment,{children:[(0,o.jsxs)(r.Modal,u({header:"Delete your page",open:h,onClose:function(){v(!1)}},{children:[(0,o.jsx)("p",u({className:"margin-bottom-08"},{children:"Are you sure that you want to delete your page? All of the comments and likes will be deleted."})),(0,o.jsxs)("form",u({onSubmit:function(e){e.preventDefault(),f(void 0,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return[4,l.request.delete("/pages/".concat(k),{auth:!0})];case 1:return e.sent(),location.reload(),[2]}}))}))}},{children:[(0,o.jsx)("div",u({className:"margin-bottom-08"},{children:(0,o.jsx)(r.Input,{type:"text",placeholder:"Type in your page title to confirm to delete it",onChange:function(e){p(e)},value:n,required:!0})})),(0,o.jsx)("strong",{children:C.toLowerCase()}),(0,o.jsx)("div",u({className:"u-flex-text-right"},{children:(0,o.jsx)(r.Button,u({color:"red",rounded:!0,type:"submit",id:"deleteButton",disabled:w},{children:"Delete"}))}))]}))]})),(0,o.jsx)("button",u({className:"btn-i btn-i-blue btn-i-big",onClick:function(){var t;"public"===e.type?t="/public-pages/".concat(window.location.pathname.split("/")[2],"/edit?t=public"):"private"===e.type&&(t="/".concat(window.location.pathname.split("/")[1],"/").concat(window.location.pathname.split("/")[2],"/edit?t=private")),window.location.href="".concat(t)}},{children:(0,o.jsx)("i",{className:"fa fa-pencil-square-o"})})),(0,o.jsx)("button",u({className:"btn-i btn-i-blue btn-i-big",onClick:function(){v(!0)}},{children:(0,o.jsx)("i",{className:"fa fa-trash-o"})}))]}):(0,o.jsx)("button",u({className:"btn-i btn-i-blue btn-i-big",onClick:function(){D((0,c.V0)(k))}},{children:(0,o.jsx)("i",{className:O})}))]}))]})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVU3QyxHQUF3QixDQUFFcUIsU0FBVSx3QkFBNEIsU0FBSyxTQUFVaEYsRUFBUyxDQUFFb0YsVUFBVyw2QkFBOEJDLFFBQVMsV0FDcGEsSUFBSW9CLEVBQ2UsV0FBZnZELEVBQU1xQixLQUNOa0MsRUFBTSxpQkFBaUI1QixPQUFPNkIsT0FBT1osU0FBU2EsU0FBU0MsTUFBTSxLQUFLLEdBQUksa0JBRWxELFlBQWYxRCxFQUFNcUIsT0FDWGtDLEVBQU0sSUFBSTVCLE9BQU82QixPQUFPWixTQUFTYSxTQUFTQyxNQUFNLEtBQUssR0FBSSxLQUFLL0IsT0FBTzZCLE9BQU9aLFNBQVNhLFNBQVNDLE1BQU0sS0FBSyxHQUFJLG9CQUVqSEYsT0FBT1osU0FBU2UsS0FBTyxHQUFHaEMsT0FBTzRCLEVBQ3JDLEdBQUssQ0FBRXpCLFVBQVUsU0FBSyxJQUFLLENBQUVJLFVBQVcsOEJBQWdDLFNBQUssU0FBVXBGLEVBQVMsQ0FBRW9GLFVBQVcsNkJBQThCQyxRQUFTLFdBQ2hKNUIsR0FBaUIsRUFDckIsR0FBSyxDQUFFdUIsVUFBVSxTQUFLLElBQUssQ0FBRUksVUFBVyx5QkFFaEQsU0FBSyxTQUFVcEYsRUFBUyxDQUFFb0YsVUFBVyw2QkFBOEJDLFFBQVMsV0FDNUVoQixHQUFTLFFBQWdCTCxHQUM3QixHQUFLLENBQUVnQixVQUFVLFNBQUssSUFBSyxDQUFFSSxVQUFXTCxhQWlCcEQsQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BwYWdzZXIvd2ViLy4vc3JjL3ZpZXdzL3Nob3ctcGFnZS9BY3Rpb25zLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBNb2RhbCwgSW5wdXQsIEJ1dHRvbiwgQWRkVG9Db2xsZWN0aW9uIH0gZnJvbSBcIkBwYWdzZXIvcmV1c2FibGVcIjtcbmltcG9ydCB7IHJlcXVlc3QsIGFsZXJ0IH0gZnJvbSBcIkBwYWdzZXIvY29tbW9uXCI7XG5pbXBvcnQgeyBzZWxlY3RDb250ZW50cywgc2VsZWN0SWQsIGZldGNoUHVibGljUGFnZSwgc2VsZWN0TG9hZGluZywgdG9nZ2xlUmVhZExhdGVyLCB9IGZyb20gXCIuL3BhZ2VTbGljZVwiO1xuaW1wb3J0IHsgc2VsZWN0U3RhdHVzLCBzZWxlY3RSZWFkTGF0ZXIgfSBmcm9tIFwiLi91c2VyU2xpY2VcIjtcbnZhciBBY3Rpb25zID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIF9hID0gdXNlU3RhdGUoXCJcIiksIHRpdGxlVHlwZWQgPSBfYVswXSwgc2V0VGl0bGVUeXBlZCA9IF9hWzFdO1xuICAgIHZhciBfYiA9IHVzZVN0YXRlKGZhbHNlKSwgZGVsZXRlUGFnZU1kbCA9IF9iWzBdLCBzZXREZWxldGVQYWdlTWRsID0gX2JbMV07XG4gICAgdmFyIF9jID0gdXNlU3RhdGUodHJ1ZSksIGRlbGV0ZUJ1dHRvbkRpc2FibGVkID0gX2NbMF0sIHNldERlbGV0ZUJ1dHRvbkRpc2FibGVkID0gX2NbMV07XG4gICAgdmFyIF9kID0gdXNlU3RhdGUoZmFsc2UpLCBhZGRUb0NvbGxlY3Rpb25Nb2RhbCA9IF9kWzBdLCBzZXRBZGRUb0NvbGxlY3Rpb25Nb2RhbCA9IF9kWzFdO1xuICAgIHZhciBwYWdlSWQgPSB1c2VTZWxlY3RvcihzZWxlY3RJZCk7XG4gICAgdmFyIHRpdGxlID0gdXNlU2VsZWN0b3Ioc2VsZWN0Q29udGVudHMpLnRpdGxlO1xuICAgIHZhciBzdGF0dXMgPSB1c2VTZWxlY3RvcihzZWxlY3RTdGF0dXMpO1xuICAgIHZhciByZWFkTGF0ZXIgPSB1c2VTZWxlY3RvcihzZWxlY3RSZWFkTGF0ZXIpO1xuICAgIHZhciBsb2FkaW5nID0gdXNlU2VsZWN0b3Ioc2VsZWN0TG9hZGluZyk7XG4gICAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocHJvcHMudHlwZSAmJiBwcm9wcy50eXBlID09PSBcInB1YmxpY1wiKSB7XG4gICAgICAgICAgICBkaXNwYXRjaChmZXRjaFB1YmxpY1BhZ2UoKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2VuZCBhIHZpZXcgcmVxdWVzdCB0byBzZXJ2ZXJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAocGFnZUlkKVxuICAgICAgICAgICAgICAgIHNlbmRWaWV3UmVxdWVzdChwYWdlSWQpO1xuICAgICAgICB9LCAxNTAwMCk7XG4gICAgfSwgW2xvYWRpbmddKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGl0bGVUeXBlZC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCBcIlwiKSA9PT1cbiAgICAgICAgICAgIHRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzL2csIFwiXCIpKSB7XG4gICAgICAgICAgICBzZXREZWxldGVCdXR0b25EaXNhYmxlZChmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXREZWxldGVCdXR0b25EaXNhYmxlZCh0cnVlKTtcbiAgICAgICAgfVxuICAgIH0sIFt0aXRsZVR5cGVkXSk7XG4gICAgdmFyIHNlbmRWaWV3UmVxdWVzdCA9IGZ1bmN0aW9uIChwYWdlSWQpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHJlcXVlc3QucG9zdChcIi92aWV3cy9cIi5jb25jYXQocGFnZUlkKSwgbnVsbCwgeyBhdXRoOiB0cnVlIH0pXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTsgfTtcbiAgICB2YXIgb25EZWxldGVQYWdlU3VibWl0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgcmVxdWVzdC5kZWxldGUoXCIvcGFnZXMvXCIuY29uY2F0KHBhZ2VJZCksIHsgYXV0aDogdHJ1ZSB9KV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pOyB9O1xuICAgIHZhciByZW5kZXJDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoc3RhdHVzID09PSBcIm93bmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAoX2pzeHMoUmVhY3QuRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtfanN4cyhNb2RhbCwgX19hc3NpZ24oeyBoZWFkZXI6IFwiRGVsZXRlIHlvdXIgcGFnZVwiLCBvcGVuOiBkZWxldGVQYWdlTWRsLCBvbkNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RGVsZXRlUGFnZU1kbChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0sIHsgY2hpbGRyZW46IFtfanN4KFwicFwiLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogXCJtYXJnaW4tYm90dG9tLTA4XCIgfSwgeyBjaGlsZHJlbjogXCJBcmUgeW91IHN1cmUgdGhhdCB5b3Ugd2FudCB0byBkZWxldGUgeW91ciBwYWdlPyBBbGwgb2YgdGhlIGNvbW1lbnRzIGFuZCBsaWtlcyB3aWxsIGJlIGRlbGV0ZWQuXCIgfSkpLCBfanN4cyhcImZvcm1cIiwgX19hc3NpZ24oeyBvblN1Ym1pdDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EZWxldGVQYWdlU3VibWl0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSwgeyBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgX19hc3NpZ24oeyBjbGFzc05hbWU6IFwibWFyZ2luLWJvdHRvbS0wOFwiIH0sIHsgY2hpbGRyZW46IF9qc3goSW5wdXQsIHsgdHlwZTogXCJ0ZXh0XCIsIHBsYWNlaG9sZGVyOiBcIlR5cGUgaW4geW91ciBwYWdlIHRpdGxlIHRvIGNvbmZpcm0gdG8gZGVsZXRlIGl0XCIsIG9uQ2hhbmdlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpdGxlVHlwZWQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB2YWx1ZTogdGl0bGVUeXBlZCwgcmVxdWlyZWQ6IHRydWUgfSkgfSkpLCBfanN4KFwic3Ryb25nXCIsIHsgY2hpbGRyZW46IHRpdGxlLnRvTG93ZXJDYXNlKCkgfSksIF9qc3goXCJkaXZcIiwgX19hc3NpZ24oeyBjbGFzc05hbWU6IFwidS1mbGV4LXRleHQtcmlnaHRcIiB9LCB7IGNoaWxkcmVuOiBfanN4KEJ1dHRvbiwgX19hc3NpZ24oeyBjb2xvcjogXCJyZWRcIiwgcm91bmRlZDogdHJ1ZSwgdHlwZTogXCJzdWJtaXRcIiwgaWQ6IFwiZGVsZXRlQnV0dG9uXCIsIGRpc2FibGVkOiBkZWxldGVCdXR0b25EaXNhYmxlZCB9LCB7IGNoaWxkcmVuOiBcIkRlbGV0ZVwiIH0pKSB9KSldIH0pKV0gfSkpLCBfanN4KFwiYnV0dG9uXCIsIF9fYXNzaWduKHsgY2xhc3NOYW1lOiBcImJ0bi1pIGJ0bi1pLWJsdWUgYnRuLWktYmlnXCIsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wcy50eXBlID09PSBcInB1YmxpY1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IFwiL3B1YmxpYy1wYWdlcy9cIi5jb25jYXQod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KFwiL1wiKVsyXSwgXCIvZWRpdD90PXB1YmxpY1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcHMudHlwZSA9PT0gXCJwcml2YXRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gXCIvXCIuY29uY2F0KHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdChcIi9cIilbMV0sIFwiL1wiKS5jb25jYXQod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KFwiL1wiKVsyXSwgXCIvZWRpdD90PXByaXZhdGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJcIi5jb25jYXQodXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSwgeyBjaGlsZHJlbjogX2pzeChcImlcIiwgeyBjbGFzc05hbWU6IFwiZmEgZmEtcGVuY2lsLXNxdWFyZS1vXCIgfSkgfSkpLCBfanN4KFwiYnV0dG9uXCIsIF9fYXNzaWduKHsgY2xhc3NOYW1lOiBcImJ0bi1pIGJ0bi1pLWJsdWUgYnRuLWktYmlnXCIsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXREZWxldGVQYWdlTWRsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB9LCB7IGNoaWxkcmVuOiBfanN4KFwiaVwiLCB7IGNsYXNzTmFtZTogXCJmYSBmYS10cmFzaC1vXCIgfSkgfSkpXSB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChfanN4KFwiYnV0dG9uXCIsIF9fYXNzaWduKHsgY2xhc3NOYW1lOiBcImJ0bi1pIGJ0bi1pLWJsdWUgYnRuLWktYmlnXCIsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh0b2dnbGVSZWFkTGF0ZXIocGFnZUlkKSk7XG4gICAgICAgICAgICB9IH0sIHsgY2hpbGRyZW46IF9qc3goXCJpXCIsIHsgY2xhc3NOYW1lOiBybEJ0bkNsYXNzIH0pIH0pKSk7XG4gICAgfTtcbiAgICBpZiAobG9hZGluZylcbiAgICAgICAgcmV0dXJuIF9qc3goXCJkaXZcIiwge30pO1xuICAgIC8vIHJlYWQgbGF0ZXIgYnV0dG9uIGNsYXNzXG4gICAgdmFyIHJsQnRuQ2xhc3MgPSByZWFkTGF0ZXIgPyBcImZhIGZhLWJvb2ttYXJrXCIgOiBcImZhIGZhLWJvb2ttYXJrLW9cIjtcbiAgICByZXR1cm4gKF9qc3hzKFJlYWN0LkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbX2pzeChBZGRUb0NvbGxlY3Rpb24sIHsgb3BlbjogYWRkVG9Db2xsZWN0aW9uTW9kYWwsIHBhZ2VJZDogcGFnZUlkLCBvbkNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEFkZFRvQ29sbGVjdGlvbk1vZGFsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9IH0pLCBfanN4cyhcImRpdlwiLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogXCJwYWdlX19oZWFkZXJfX2FjdGlvbnNcIiB9LCB7IGNoaWxkcmVuOiBbX2pzeChcImJ1dHRvblwiLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogXCJidG4taSBidG4taS1ibHVlIGJ0bi1pLWJpZ1wiLCBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gXCJzcGVjdGF0b3JcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRTZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJQbGVhc2UgbG9naW4gdG8gYmUgYWJsZSB0byBhZGQgcGFnZXMgdG8gY29sbGVjdGlvbnMuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWRkVG9Db2xsZWN0aW9uTW9kYWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSB9LCB7IGNoaWxkcmVuOiBfanN4KFwiaVwiLCB7IGNsYXNzTmFtZTogXCJmYSBmYS10aC1sYXJnZVwiLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiIH0pIH0pKSwgcmVuZGVyQ29udGVudCgpXSB9KSldIH0pKTtcbn07XG5leHBvcnQgZGVmYXVsdCBBY3Rpb25zO1xuIl0sIm5hbWVzIjpbIl9fYXNzaWduIiwiT2JqZWN0IiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsInRoaXMiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInZhbHVlIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwicG9wIiwicHVzaCIsInByb3BzIiwiX2EiLCJ1c2VTdGF0ZSIsInRpdGxlVHlwZWQiLCJzZXRUaXRsZVR5cGVkIiwiX2IiLCJkZWxldGVQYWdlTWRsIiwic2V0RGVsZXRlUGFnZU1kbCIsIl9jIiwiZGVsZXRlQnV0dG9uRGlzYWJsZWQiLCJzZXREZWxldGVCdXR0b25EaXNhYmxlZCIsIl9kIiwiYWRkVG9Db2xsZWN0aW9uTW9kYWwiLCJzZXRBZGRUb0NvbGxlY3Rpb25Nb2RhbCIsInBhZ2VJZCIsInRpdGxlIiwic3RhdHVzIiwicmVhZExhdGVyIiwibG9hZGluZyIsImRpc3BhdGNoIiwidXNlRWZmZWN0IiwidHlwZSIsInNldFRpbWVvdXQiLCJzZW5kVmlld1JlcXVlc3QiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJyZXF1ZXN0IiwiY29uY2F0IiwiYXV0aCIsInJsQnRuQ2xhc3MiLCJjaGlsZHJlbiIsIkFkZFRvQ29sbGVjdGlvbiIsIm9wZW4iLCJvbkNsb3NlIiwiY2xhc3NOYW1lIiwib25DbGljayIsImNvbnNvbGUiLCJsb2ciLCJhbGVydCIsIk1vZGFsIiwiaGVhZGVyIiwib25TdWJtaXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwibG9jYXRpb24iLCJyZWxvYWQiLCJJbnB1dCIsInBsYWNlaG9sZGVyIiwib25DaGFuZ2UiLCJyZXF1aXJlZCIsIkJ1dHRvbiIsImNvbG9yIiwicm91bmRlZCIsImlkIiwiZGlzYWJsZWQiLCJ1cmwiLCJ3aW5kb3ciLCJwYXRobmFtZSIsInNwbGl0IiwiaHJlZiJdLCJzb3VyY2VSb290IjoiIn0=