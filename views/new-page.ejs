<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css?family=Lato:100,300,300i,400,700" rel="stylesheet">
  <link rel="stylesheet" href="/fonts/font-awesome.min.css">
  <link rel="stylesheet" href="/tags-input.css">
  <link rel="stylesheet" href="/style.css">
  <title>Create a page | Pagher</title>

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="apple-mobile-web-app-title" content="Pagher">
  <meta name="application-name" content="Pagher">
  <meta name="msapplication-TileColor" content="#2d89ef">
  <meta name="theme-color" content="#ffffff">
</head>
<body class="body-grey">

  <nav class="navigation navigation-md">
    <a href="/" class="navigation__logo"><img id="pagherLogo" src="/images/pagher-logo.svg" alt="Pagher logo"></a>
    <a href="/public-pages" class="navigation__link">Public Pages</a>
    <a href="/new-page/initial-step" class="navigation__link navigation__link--active" id="js--create-page">Create Your Page</a>
    <div class="nav-dropdown" id="js--nav-dropdown-md">
      <div class="nav-dropdown__button">
        <a href="javascript:void(0);"><img class="js--user-image" src="/images/users/placeholder.png"></a>
      </div>
      <div class="nav-dropdown__content">
        <a href="/admin/profile"><i class="fa fa-user"></i> Profile</a>
        <a href="/admin/settings"><i class="fa fa-cogs"></i> Setting</a>
        <a href="/admin/pages/published"><i class="fa fa-file-text"></i> Pages</a>
        <a href="javascript:void(0);" onclick="localStorage.removeItem('token');window.location = '/';"><i class="fa fa-sign-out"></i> Logout</a>
      </div>
    </div>
  </nav>

  <nav class="navigation navigation-sm">
    <div class="navigation-sm__visible">
      <a href="/" class="navigation__logo"><img id="pagherLogoMd" src="/images/pagher-logo.svg" alt="Pagher logo"></a>
      <button class="navigation__bar-button" onclick="navOpenerClicked()"><i id="navigationBar" class="fa fa-bars" aria-hidden="true"></i></button><br>
    </div>
    <div class="navigation-sm__hidden display-none">
        <a href="/public-pages">Public Pages</a>
        <a href="/new-page/initial-step">Create Your Page</a>
        <div class="nav-dropdown-slider" id="js--nav-dropdown-sm">
          <div class="nav-dropdown-slider__button">
            <a href="javascript:void(0);" onclick="navDropdownClicked(event)" class="">
              <img class="js--user-image" src="/images/users/placeholder.png"><i class="fa fa-caret-down" aria-hidden="true"></i>
            </a>
          </div>
          <div class="nav-dropdown-slider__content display-none" id="js--nav-dropdown-slider-content">
            <a href="/admin/profile"><i class="fa fa-user"></i> Profile</a>
            <a href="/admin/settings"><i class="fa fa-cogs"></i> Setting</a>
            <a href="/admin/pages/published"><i class="fa fa-file-text"></i> Pages</a>
            <a href="javascript:void(0);" onclick="localStorage.removeItem('token');window.location = '/';"><i class="fa fa-sign-out"></i> Logout</a>
          </div>
        </div>
    </div>
  </nav>

  <div class="container container-big">
    <div class="react-container" name="newPage"></div>
  </div>
  <div class='cupertino-modal-container cupertino-modal-container--light display-none' id="loading-modal">
    <div class="cupertino-modal cupertino-modal--loading">
      <div class="cupertino-modal__content">
        <h3 id="loading-modal-message"></h3>
      </div>
      <div class="center-content">
        <div class="lds-css ng-scope">
          <div class="lds-spinner">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <br><br><br><br><br><br><br><br><br><br>
  <footer class="footer a-6">
    <div class="footer__text">
      Copyright &copy; 2019 Pagher, Inc. All rights reserved.
    </div>
     <ul class="footer__nav">
         <li class="footer__link"><a href="javascript:void(0);">Support</a></li>
         <li class="footer__link"><a href="javascript:void(0);">Contact us</a></li>
         <li class="footer__link"><a href="/terms-of-use">Terms of Use</a></li>
         <li class="footer__link"><a href="/privacy-policy">Privacy Policy</a></li>
     </ul>
     <div class="footer__right">
       <span class="footer__theme-text">Dark Theme:</span>
       <span class="footer__theme-light"></span>
       <label class="switch">
          <input type="checkbox" id="themeSwitch">
          <span class="slider round"></span>
        </label>
        <span class="footer__theme-dark"></span>
     </div>
  </footer>

<script>
if (localStorage.getItem("theme") === "dark") {
  changeTheme("dark");
} else {
  changeTheme("light");
}

document.getElementById('themeSwitch').addEventListener('change', (event) => {
  if (event.target.checked) {
    changeTheme("dark");
  } else {
    changeTheme("light");
  }
})

function changeTheme(theme) {
  if (theme === "dark") {
    var link = document.createElement("link");
    link.setAttribute("rel", "stylesheet");
    link.setAttribute("href", "/dark-style.css");
    document.querySelector("head").appendChild(link)
    document.querySelector("#themeSwitch").checked = true;
    document.querySelector("#navigationBar").style.color = "#fff";
    document.querySelector("#pagherLogo").src = "/images/pagher-logo-light.svg";
    document.querySelector("#pagherLogoMd").src = "/images/pagher-logo-light.svg";
    localStorage.setItem("theme", "dark");

    // TINYMCE
    if (document.querySelector('iframe')) {
      document.querySelector('iframe').contentDocument.children[0].children[1].style.background = "#555";
      document.querySelector('iframe').contentDocument.children[0].children[1].style.color = "#fff";
    }
  }

  if (theme === "light") {
    if (document.querySelectorAll("link[href='/dark-style.css']")[0]) {
      document.querySelector("head").removeChild(document.querySelectorAll("link[href='/dark-style.css']")[0]);
      document.querySelector("#themeSwitch").checked = false;
      document.querySelector("#navigationBar").style.color = "";
      document.querySelector("#pagherLogo").src = "/images/pagher-logo.svg";
      document.querySelector("#pagherLogoMd").src = "/images/pagher-logo.svg";
      localStorage.setItem("theme", "light");

      if (document.querySelector('iframe')) {
        document.querySelector('iframe').contentDocument.children[0].children[1].style.background = "#fff";
        document.querySelector('iframe').contentDocument.children[0].children[1].style.color = "#555";
      }
    }
  }
}

// If user profile image couldn't render, then show user placeholer default image
var userImages = document.querySelectorAll(".js--user-image")
for (var i = 0; i < userImages.length; i++) {
  userImages[i].addEventListener('error', function (e) {
    e.target.src = "/images/users/placeholder.png";
  })
}

function navDropdownClicked(e) {
	document
		.querySelector("#js--nav-dropdown-slider-content")
		.classList.toggle("display-none");
	e.target.classList.toggle("nav-dropdown-slider__button--active");
}

function navOpenerClicked() {
	var navItems = document.querySelector(".navigation-sm__hidden");
	if (navItems.classList[1] === "display-none") {
		navItems.classList.remove("display-none");
	} else {
		navItems.classList.add("display-none");
	}
}

var xhttp = new XMLHttpRequest();
xhttp.onreadystatechange = function() {
	if (this.status === 200) {
		try {
			document.querySelectorAll(".js--user-image")[0].src = JSON.parse(
				this.response
			).user.photo;

			document.querySelectorAll(".js--user-image")[1].src = JSON.parse(
				this.response
			).user.photo;
		} catch (e) {}
	}

	if (this.status === 401) {
		window.location.href = "/login?redirected=new-page";
	}
};
xhttp.open("POST", "/auth", true);
xhttp.setRequestHeader("authorization", localStorage.getItem("token"));

if (location.pathname !== "/new-page/guest")
  xhttp.send();

</script>

<script src="https://cloud.tinymce.com/stable/tinymce.min.js?apiKey=nqmpalfobksbw4d3i2dflynvmpdi5t2wppsbptze2vhfvfd8"></script>
<script src="/bundle.js"></script>
</body>
</html>
